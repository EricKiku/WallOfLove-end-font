"use strict";(self["webpackChunkapp"]=self["webpackChunkapp"]||[]).push([[429],{8429:function(s,t,e){e.r(t),e.d(t,{default:function(){return p}});var o=function(){var s=this,t=s._self._c;return t("div",[s._m(0),t("div",{staticClass:"login"},[t("div",{staticClass:"input"},[t("p",{staticClass:"title"},[s._v("登录")]),t("input",{directives:[{name:"model",rawName:"v-model",value:s.userAccount,expression:"userAccount"}],attrs:{type:"text",placeholder:"请输入手机号/用户名"},domProps:{value:s.userAccount},on:{input:function(t){t.target.composing||(s.userAccount=t.target.value)}}}),t("input",{directives:[{name:"model",rawName:"v-model",value:s.userPassword,expression:"userPassword"}],attrs:{type:"password","show-password":"",placeholder:"请输入密码"},domProps:{value:s.userPassword},on:{input:function(t){t.target.composing||(s.userPassword=t.target.value)}}}),t("button",{staticClass:"login",on:{click:s.login}},[s._v("登  录")]),t("p",{staticClass:"forget",on:{click:s.forgetPwd}},[s._v("忘记密码?")]),t("p",{staticClass:"noAccess"},[s._v(" 还没有账号?"),t("span",{on:{click:s.goRegister}},[s._v("立即注册")])])])])])},r=[function(){var s=this,t=s._self._c;return t("div",{staticClass:"logo"},[t("img",{attrs:{src:e(6949),alt:"WallOfLove"}})])}],a=(e(7658),e(5101)),u=e(3822),c={name:"Login",data(){return{value:"",userAccount:"",userPassword:"",userNick:""}},methods:{...(0,u.nv)({setToken:"setToken",setUser:"setUser"}),goRegister(){this.$router.push({name:"register"})},forgetPwd(){(0,a.zE)(localStorage.getItem("token")).then((s=>{console.log(s)}))},login(){0!=this.userAccount.length&&0!=this.userPassword?(0,a.x4)(this.userAccount,this.userPassword).then((s=>{"successPutToken"==s.static?(this.$toast.success({message:"登录成功"}),localStorage.setItem("token",s.tokenvalue),localStorage.setItem("userAccount",this.userAccount),this.setToken(s.tokenvalue),this.setUser({userAccount:this.userAccount,userNick:this.userNick}),this.$router.replace({name:"homepage"})):"accountError"==s.static?this.$toast.fail({message:"账号错误"}):"passwordError"==s.static&&this.$toast.fail({message:"密码错误"})}),(s=>{this.$toast.fail({message:"服务器错误"})})):this.$toast({message:"账号或密码不能为空"})}},mounted(){let s=this.$route.query.account,t=this.$route.query.password,e=this.$route.query.nick;this.userAccount=s||"",this.userPassword=t||"",this.userNick=e||""},components:{}},i=c,n=e(1001),l=(0,n.Z)(i,o,r,!1,null,"014d4a98",null),p=l.exports},6949:function(s,t,e){s.exports=e.p+"img/logo.46caca56.png"}}]);
//# sourceMappingURL=429.3c4b86ee.js.map
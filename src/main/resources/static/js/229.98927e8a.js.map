{"version":3,"file":"js/229.98927e8a.js","mappings":"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","sources":["webpack://app/./src/views/Register/index.vue","webpack://app/src/views/Register/index.vue","webpack://app/./src/views/Register/index.vue?3b1b","webpack://app/./src/views/Register/index.vue?3de7"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_vm._m(0),_c('div',{staticClass:\"register\"},[_c('div',{staticClass:\"input\"},[_c('p',{staticClass:\"title\"},[_vm._v(\"注册\")]),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.accountError),expression:\"accountError\"}],staticClass:\"errorInfo\"},[_vm._v(_vm._s(_vm.accErrInfo))]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.account),expression:\"account\"}],class:{ accError: _vm.accountError },attrs:{\"type\":\"text\",\"placeholder\":\"账号\"},domProps:{\"value\":(_vm.account)},on:{\"blur\":function($event){return _vm.formCheckout('account')},\"input\":function($event){if($event.target.composing)return;_vm.account=$event.target.value}}}),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.nick),expression:\"nick\"}],attrs:{\"type\":\"text\",\"placeholder\":\"昵称\"},domProps:{\"value\":(_vm.nick)},on:{\"input\":function($event){if($event.target.composing)return;_vm.nick=$event.target.value}}}),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.passwordLengthErr),expression:\"passwordLengthErr\"}],staticClass:\"errorInfo\"},[_vm._v(_vm._s(_vm.pwdErrInfo))]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.password),expression:\"password\"}],attrs:{\"type\":\"password\",\"placeholder\":\"密码\"},domProps:{\"value\":(_vm.password)},on:{\"blur\":function($event){return _vm.formCheckout('password')},\"input\":function($event){if($event.target.composing)return;_vm.password=$event.target.value}}}),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.passwordError),expression:\"passwordError\"}],staticClass:\"errorInfo\"},[_vm._v(_vm._s(_vm.pwdErrInfo))]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.password_again),expression:\"password_again\"}],class:{ pwdError: _vm.passwordError },attrs:{\"type\":\"password\",\"placeholder\":\"确认密码\"},domProps:{\"value\":(_vm.password_again)},on:{\"blur\":function($event){return _vm.formCheckout('password_again')},\"input\":function($event){if($event.target.composing)return;_vm.password_again=$event.target.value}}}),_c('button',{staticClass:\"register\",on:{\"click\":_vm.register}},[_vm._v(\"注  册\")]),_c('p',{staticClass:\"goregister\"},[_vm._v(\" 已有账号？\"),_c('span',{on:{\"click\":_vm.goRegister}},[_vm._v(\"立即登录\")])])])])])\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"logo\"},[_c('img',{attrs:{\"src\":require(\"@/assets/logo.png\"),\"alt\":\"WallOfLove\"}})])\n}]\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <div class=\"logo\">\r\n      <img src=\"@/assets/logo.png\" alt=\"WallOfLove\" />\r\n    </div>\r\n    <div class=\"register\">\r\n      <div class=\"input\">\r\n        <p class=\"title\">注册</p>\r\n        <span v-show=\"accountError\" class=\"errorInfo\">{{ accErrInfo }}</span>\r\n        <input\r\n          type=\"text\"\r\n          :class=\"{ accError: accountError }\"\r\n          v-model=\"account\"\r\n          @blur=\"formCheckout('account')\"\r\n          placeholder=\"账号\"\r\n        />\r\n        <input\r\n          type=\"text\"\r\n          v-model=\"nick\"\r\n          placeholder=\"昵称\"\r\n        />\r\n        <span v-show=\"passwordLengthErr\" class=\"errorInfo\">{{\r\n          pwdErrInfo\r\n        }}</span>\r\n        <input\r\n          type=\"password\"\r\n          v-model=\"password\"\r\n          @blur=\"formCheckout('password')\"\r\n          placeholder=\"密码\"\r\n        />\r\n        <span v-show=\"passwordError\" class=\"errorInfo\">{{ pwdErrInfo }}</span>\r\n        <input\r\n          type=\"password\"\r\n          :class=\"{ pwdError: passwordError }\"\r\n          v-model=\"password_again\"\r\n          placeholder=\"确认密码\"\r\n          @blur=\"formCheckout('password_again')\"\r\n        />\r\n\r\n        <button class=\"register\" @click=\"register\">注&nbsp;&nbsp;册</button>\r\n        <p class=\"goregister\">\r\n          已有账号？<span @click=\"goRegister\">立即登录</span>\r\n        </p>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n// 引入注册api\r\nimport { register, findAccount } from \"@/api\";\r\n\r\nexport default {\r\n  name: \"Register\",\r\n  data() {\r\n    return {\r\n      agree: false,\r\n      // 表单全部完整才为true\r\n      accountError: false,\r\n      accErrInfo: \"\",\r\n      passwordError: false,\r\n      passwordLengthErr: false,\r\n      pwdErrInfo: \"\",\r\n      // 表单数据\r\n      account: \"\",\r\n      password: \"\",\r\n      password_again: \"\",\r\n      nick:''\r\n    };\r\n  },\r\n  methods: {\r\n    // 立即登录\r\n    goRegister() {\r\n      this.$router.push({\r\n        name: \"login\",\r\n      });\r\n    },\r\n    // 发送注册请求方法\r\n    register() {\r\n      // 判断表单是否完整\r\n      if (!this.accountError && !this.passwordError && !this.passwordLengthErr&&(this.account.length!=0&&this.password.length!=0&&this.password_again.length!=0)) {\r\n        // 完成才能发送请求\r\n        register(this.account, this.password,this.nick).then(\r\n          (res) => {\r\n            this.$toast.success({\r\n              message: \"注册成功\",\r\n            });\r\n            // 跳转到昵称页\r\n            this.$router.replace({\r\n              name: \"login\",\r\n              query: {\r\n                account: this.account,\r\n                password: this.password,\r\n                nick:this.nick || this.account\r\n              },\r\n            });\r\n          },\r\n          (reason) => {\r\n            this.$toast.success({\r\n              message: \"注册失败[服务器错误]\",\r\n            });\r\n          }\r\n        );\r\n      }else{\r\n        this.$toast.fail({\r\n          message: \"表单数据错误\",\r\n        });\r\n      }\r\n    },\r\n    // 表单校验方法\r\n    formCheckout(el) {\r\n      if (el === \"account\" ) {\r\n        if (this.account.length == 0) {\r\n          this.accountError = false;\r\n          this.accErrInfo = \"\";\r\n        }\r\n        // 发送请求，判断数据库是否存在账号，并且最大长度是12\r\n        findAccount(this.account).then((res) => {\r\n          if (res === \"have\") {\r\n            // 判断是否存在\r\n            this.accountError = true;\r\n            this.accErrInfo = \"账号已使用\";\r\n            return;\r\n          } else if (res === \"havent\" && this.account.length <= 12) {\r\n            this.accountError = false;\r\n            this.accErrInfo = \"\";\r\n          }\r\n          // 判断长度 是否超出\r\n          if (this.account.length < 8 || this.account.length > 12) {\r\n            this.accountError = true;\r\n            this.accErrInfo = \"账号长度必须在8-12位\";\r\n          } else if (this.account.length >=8 && this.account.length <= 12) {\r\n            this.accountError = false;\r\n            this.accErrInfo = \"\";\r\n          }\r\n          \r\n        });\r\n      } else if (el === \"password_again\") {\r\n        // 判断是否与密码相同\r\n        if (this.password != this.password_again) {\r\n          this.passwordError = true;\r\n          this.pwdErrInfo = \"两次输入密码不一致\";\r\n        } else if (this.password == this.password_again) {\r\n          this.passwordError = false;\r\n          this.pwdErrInfo = \"\";\r\n        }\r\n      } else if (el === \"password\") {\r\n        // 密码不少于6位不多于20位\r\n        if (this.password.length < 6 || this.password.length > 20) {\r\n          this.passwordLengthErr = true;\r\n          this.pwdErrInfo = \"密码长度必须大于6位，小于20位\";\r\n        } else {\r\n          this.passwordLengthErr = false;\r\n          this.pwdErrInfo = \"\";\r\n        }\r\n      }\r\n    },\r\n  },\r\n  components: {},\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.logo {\r\n  background-color: #adddf2;\r\n  background: linear-gradient(\r\n    180deg,\r\n    rgba(118, 213, 255, 0.9836309523809523) 0%,\r\n    rgba(255, 255, 255, 1) 100%\r\n  );\r\n}\r\nimg {\r\n  height: 150px;\r\n  width: 60%;\r\n  display: block;\r\n  margin: 0 auto;\r\n  height: 100px;\r\n}\r\n.register {\r\n  width: 100%;\r\n  height: 70%;\r\n  text-align: center;\r\n  position: absolute;\r\n  top: 45%;\r\n  left: 50%;\r\n  transform: translateX(-50%) translateY(-40%);\r\n}\r\n.input {\r\n  position: relative;\r\n  left: 50%;\r\n  transform: translateX(-50%);\r\n  text-align: center;\r\n  width: 75%;\r\n  padding: 10px;\r\n}\r\n.input .title {\r\n  text-align: left;\r\n  font-size: 37.5px;\r\n  margin-left: 10px;\r\n  margin-bottom: 15px;\r\n}\r\n.input button {\r\n  position: relative;\r\n  width: 100%;\r\n  height: 50px;\r\n  font-size: 16px;\r\n  border-radius: 5px;\r\n  cursor: pointer;\r\n  transition: all 0.2s ease-in-out;\r\n}\r\n.input .register {\r\n  top: 25px;\r\n  background-color: #2bb3ed;\r\n  border: 1px solid #2bb3ed;\r\n  color: #fff;\r\n  overflow: hidden;\r\n}\r\n.input .register:focus {\r\n  background: #06aaf0;\r\n  border: 1px solid #2bb3ed;\r\n}\r\ninput {\r\n  width: 90%;\r\n  margin-bottom: 15px;\r\n  height: 50px;\r\n  font-size: 16px;\r\n  padding-left: 16px;\r\n  border: 1px solid #ccc;\r\n  border-radius: 5px;\r\n  transition: all 0.16s ease-in-out;\r\n}\r\ninput:focus {\r\n  border: 2px solid #1890ff;\r\n  color: rgba(0, 0, 0, 0.85);\r\n}\r\ninput:focus-visible {\r\n  outline-offset: 0px;\r\n  outline: 0;\r\n}\r\n\r\n.register .goregister {\r\n  font-size: 12px;\r\n  text-align: right;\r\n  margin-top: 25px;\r\n  color: rgb(127, 127, 127);\r\n  margin-bottom: 5px;\r\n}\r\n.register .goregister span {\r\n  color: #2bb3ed;\r\n  border-bottom: 1px solid #2bb3ed;\r\n}\r\n.errorInfo {\r\n  display: block;\r\n  font-size: 12px;\r\n  text-align: left;\r\n  margin-left: 5px;\r\n  color: red;\r\n}\r\n.pwdError {\r\n  border: 1px solid red;\r\n}\r\n.accError {\r\n  border: 1px solid red;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=37ce21df&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=37ce21df&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"37ce21df\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","_m","staticClass","_v","directives","name","rawName","value","accountError","expression","_s","accErrInfo","account","class","accError","attrs","domProps","on","$event","formCheckout","target","composing","nick","passwordLengthErr","pwdErrInfo","password","passwordError","password_again","pwdError","register","goRegister","staticRenderFns","require","data","agree","methods","message","res","query","reason","findAccount","components","component"],"sourceRoot":""}
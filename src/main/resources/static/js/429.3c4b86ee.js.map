{"version":3,"file":"js/429.3c4b86ee.js","mappings":"kJAAA,IAAIA,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACF,EAAII,GAAG,GAAGF,EAAG,MAAM,CAACG,YAAY,SAAS,CAACH,EAAG,MAAM,CAACG,YAAY,SAAS,CAACH,EAAG,IAAI,CAACG,YAAY,SAAS,CAACL,EAAIM,GAAG,QAAQJ,EAAG,QAAQ,CAACK,WAAW,CAAC,CAACC,KAAK,QAAQC,QAAQ,UAAUC,MAAOV,EAAIW,YAAaC,WAAW,gBAAgBC,MAAM,CAAC,KAAO,OAAO,YAAc,cAAcC,SAAS,CAAC,MAASd,EAAIW,aAAcI,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAOC,OAAOC,YAAiBlB,EAAIW,YAAYK,EAAOC,OAAOP,MAAK,KAAKR,EAAG,QAAQ,CAACK,WAAW,CAAC,CAACC,KAAK,QAAQC,QAAQ,UAAUC,MAAOV,EAAImB,aAAcP,WAAW,iBAAiBC,MAAM,CAAC,KAAO,WAAW,gBAAgB,GAAG,YAAc,SAASC,SAAS,CAAC,MAASd,EAAImB,cAAeJ,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAOC,OAAOC,YAAiBlB,EAAImB,aAAaH,EAAOC,OAAOP,MAAK,KAAKR,EAAG,SAAS,CAACG,YAAY,QAAQU,GAAG,CAAC,MAAQf,EAAIoB,QAAQ,CAACpB,EAAIM,GAAG,UAAUJ,EAAG,IAAI,CAACG,YAAY,SAASU,GAAG,CAAC,MAAQf,EAAIqB,YAAY,CAACrB,EAAIM,GAAG,WAAWJ,EAAG,IAAI,CAACG,YAAY,YAAY,CAACL,EAAIM,GAAG,WAAWJ,EAAG,OAAO,CAACa,GAAG,CAAC,MAAQf,EAAIsB,aAAa,CAACtB,EAAIM,GAAG,iBACpiC,EACIiB,EAAkB,CAAC,WAAY,IAAIvB,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACG,YAAY,QAAQ,CAACH,EAAG,MAAM,CAACW,MAAM,CAAC,IAAMW,EAAQ,MAAqB,IAAM,iBAChK,G,8BC8BA,GACAhB,KAAAA,QACAiB,OACA,OACAf,MAAAA,GACAC,YAAAA,GACAQ,aAAAA,GACAO,SAAAA,GAEA,EACAC,QAAAA,KACA,SAAAC,SAAAA,WAAAC,QAAAA,YAEAP,aACA,mBACAd,KAAAA,YAEA,EAEAa,aACAS,EAAAA,EAAAA,IAAAA,aAAAA,QAAAA,UAAAA,MAAAA,IACAC,QAAAA,IAAAA,EAAAA,GAEA,EAEAX,QAGA,kDACAA,EAAAA,EAAAA,IAAAA,KAAAA,YAAAA,KAAAA,cAAAA,MACAY,IACA,6BACA,qBACAC,QAAAA,SAIAC,aAAAA,QAAAA,QAAAA,EAAAA,YACAA,aAAAA,QAAAA,cAAAA,KAAAA,aACA,4BACA,cACAvB,YAAAA,KAAAA,YACAe,SAAAA,KAAAA,WAEA,sBACAlB,KAAAA,cAEA,yBACA,kBACAyB,QAAAA,SAEA,2BACA,kBACAA,QAAAA,QAEA,IAEAE,IACA,kBACAF,QAAAA,SACA,IAIA,aACAA,QAAAA,aAGA,GAEAG,UACA,gCACA,6BACA,yBACA,uBACA,wBACA,mBACA,EACAC,WAAAA,CAAAA,GC/G8P,I,UCQ1PC,GAAY,OACd,EACAvC,EACAwB,GACA,EACA,KACA,WACA,MAIF,EAAee,EAAiB,O","sources":["webpack://app/./src/views/Login/index.vue","webpack://app/src/views/Login/index.vue","webpack://app/./src/views/Login/index.vue?db08","webpack://app/./src/views/Login/index.vue?8e58"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_vm._m(0),_c('div',{staticClass:\"login\"},[_c('div',{staticClass:\"input\"},[_c('p',{staticClass:\"title\"},[_vm._v(\"登录\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.userAccount),expression:\"userAccount\"}],attrs:{\"type\":\"text\",\"placeholder\":\"请输入手机号/用户名\"},domProps:{\"value\":(_vm.userAccount)},on:{\"input\":function($event){if($event.target.composing)return;_vm.userAccount=$event.target.value}}}),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.userPassword),expression:\"userPassword\"}],attrs:{\"type\":\"password\",\"show-password\":\"\",\"placeholder\":\"请输入密码\"},domProps:{\"value\":(_vm.userPassword)},on:{\"input\":function($event){if($event.target.composing)return;_vm.userPassword=$event.target.value}}}),_c('button',{staticClass:\"login\",on:{\"click\":_vm.login}},[_vm._v(\"登  录\")]),_c('p',{staticClass:\"forget\",on:{\"click\":_vm.forgetPwd}},[_vm._v(\"忘记密码?\")]),_c('p',{staticClass:\"noAccess\"},[_vm._v(\" 还没有账号?\"),_c('span',{on:{\"click\":_vm.goRegister}},[_vm._v(\"立即注册\")])])])])])\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"logo\"},[_c('img',{attrs:{\"src\":require(\"@/assets/logo.png\"),\"alt\":\"WallOfLove\"}})])\n}]\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <div class=\"logo\">\r\n      <img src=\"@/assets/logo.png\" alt=\"WallOfLove\" />\r\n    </div>\r\n    <div class=\"login\">\r\n      <div class=\"input\">\r\n        <p class=\"title\">登录</p>\r\n        <input\r\n          type=\"text\"\r\n          v-model=\"userAccount\"\r\n          placeholder=\"请输入手机号/用户名\"\r\n        />\r\n        <input\r\n          type=\"password\"\r\n          v-model=\"userPassword\"\r\n          show-password\r\n          placeholder=\"请输入密码\"\r\n        />\r\n        <button class=\"login\" @click=\"login\">登&nbsp;&nbsp;录</button>\r\n        <p class=\"forget\" @click=\"forgetPwd\">忘记密码?</p>\r\n        <p class=\"noAccess\">\r\n          还没有账号?<span @click=\"goRegister\">立即注册</span>\r\n        </p>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n// 登录api\r\nimport { login, tokenCheckout } from \"@/api\";\r\nimport { mapState, mapActions } from \"vuex\";\r\nexport default {\r\n  name: \"Login\",\r\n  data() {\r\n    return {\r\n      value: \"\",\r\n      userAccount: \"\",\r\n      userPassword: \"\",\r\n      userNick: \"\",\r\n    };\r\n  },\r\n  methods: {\r\n    ...mapActions({ setToken: \"setToken\", setUser: \"setUser\" }),\r\n    // 去注册\r\n    goRegister() {\r\n      this.$router.push({\r\n        name: \"register\",\r\n      });\r\n    },\r\n    // 忘记密码方法\r\n    forgetPwd() {\r\n      tokenCheckout(localStorage.getItem(\"token\")).then((res) => {\r\n        console.log(res);\r\n      });\r\n    },\r\n    // 登录\r\n    login() {\r\n      // 调用login api接口\r\n      // 如果账号是空的或者密码是空的，则不发送\r\n      if (this.userAccount.length != 0 && this.userPassword != 0) {\r\n        login(this.userAccount, this.userPassword).then(\r\n          (res) => {\r\n            if (res.static == \"successPutToken\") {\r\n              this.$toast.success({\r\n                message: \"登录成功\",\r\n              });\r\n              // 登录成功后，把token存在本地和vuex各一份\r\n              //存储在localStorage和vuex中，每次vuex都要去从localStorage中获取token\r\n              localStorage.setItem(\"token\", res.tokenvalue);\r\n              localStorage.setItem(\"userAccount\",this.userAccount);\r\n              this.setToken(res.tokenvalue);\r\n              this.setUser({\r\n                userAccount: this.userAccount,\r\n                userNick: this.userNick,\r\n              });\r\n              this.$router.replace({\r\n                name: \"homepage\",\r\n              });\r\n            } else if (res.static == \"accountError\") {\r\n              this.$toast.fail({\r\n                message: \"账号错误\",\r\n              });\r\n            } else if (res.static == \"passwordError\") {\r\n              this.$toast.fail({\r\n                message: \"密码错误\",\r\n              });\r\n            }\r\n          },\r\n          (resson) => {\r\n            this.$toast.fail({\r\n              message: \"服务器错误\",\r\n            });\r\n          }\r\n        );\r\n      } else {\r\n        this.$toast({\r\n          message: \"账号或密码不能为空\",\r\n        });\r\n      }\r\n    },\r\n  },\r\n  mounted() {\r\n    let account = this.$route.query.account;\r\n    let password = this.$route.query.password;\r\n    let userNick = this.$route.query.nick;\r\n    this.userAccount = account || \"\";\r\n    this.userPassword = password || \"\";\r\n    this.userNick = userNick || \"\";\r\n  },\r\n  components: {},\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.logo {\r\n  background-color: #adddf2;\r\n  background: linear-gradient(\r\n    180deg,\r\n    rgba(118, 213, 255, 0.9836309523809523) 0%,\r\n    rgba(255, 255, 255, 1) 100%\r\n  );\r\n}\r\nimg {\r\n  height: 150px;\r\n  width: 60%;\r\n  display: block;\r\n  margin: 0 auto;\r\n  height: 100px;\r\n}\r\n.login {\r\n  width: 100%;\r\n  height: 70%;\r\n  text-align: center;\r\n  position: absolute;\r\n  top: 50%;\r\n  left: 50%;\r\n  transform: translateX(-50%) translateY(-40%);\r\n}\r\n.input {\r\n  position: relative;\r\n  left: 50%;\r\n  transform: translateX(-50%);\r\n  text-align: center;\r\n  width: 75%;\r\n  /* padding: 10px; */\r\n}\r\n.input .title {\r\n  text-align: left;\r\n  font-size: 37.5px;\r\n  margin-left: 10px;\r\n  margin-bottom: 15px;\r\n}\r\n.input button {\r\n  position: relative;\r\n  width: 100%;\r\n  height: 50px;\r\n  font-size: 16px;\r\n  border-radius: 5px;\r\n  cursor: pointer;\r\n  transition: all 0.2s ease-in-out;\r\n}\r\n.input .login {\r\n  top: 40px;\r\n  background-color: #2bb3ed;\r\n  border: 1px solid #2bb3ed;\r\n  color: #fff;\r\n  overflow: hidden;\r\n}\r\n.input .login:focus {\r\n  background: #06aaf0;\r\n  border: 1px solid #2bb3ed;\r\n}\r\ninput {\r\n  width: 90%;\r\n  margin-bottom: 15px;\r\n  height: 50px;\r\n  font-size: 16px;\r\n  padding-left: 16px;\r\n  border: 1px solid #ccc;\r\n  border-radius: 5px;\r\n  transition: all 0.16s ease-in-out;\r\n}\r\ninput:focus {\r\n  border: 2px solid #1890ff;\r\n  color: rgba(0, 0, 0, 0.85);\r\n}\r\ninput:focus-visible {\r\n  outline-offset: 0px;\r\n  outline: 0;\r\n}\r\n\r\n.input .forget {\r\n  font-size: 12px;\r\n  text-align: left;\r\n  position: relative;\r\n  top: 40px;\r\n  color: rgb(127, 127, 127);\r\n}\r\n.login .noAccess {\r\n  font-size: 12px;\r\n  text-align: right;\r\n  position: relative;\r\n  top: 50px;\r\n  color: rgb(127, 127, 127);\r\n  margin-bottom: 5px;\r\n}\r\n.login .noAccess span {\r\n  color: #2bb3ed;\r\n  border-bottom: 1px solid #2bb3ed;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=014d4a98&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=014d4a98&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"014d4a98\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","_m","staticClass","_v","directives","name","rawName","value","userAccount","expression","attrs","domProps","on","$event","target","composing","userPassword","login","forgetPwd","goRegister","staticRenderFns","require","data","userNick","methods","setToken","setUser","tokenCheckout","console","res","message","localStorage","resson","mounted","components","component"],"sourceRoot":""}
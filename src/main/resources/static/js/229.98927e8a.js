"use strict";(self["webpackChunkapp"]=self["webpackChunkapp"]||[]).push([[229],{2229:function(s,r,t){t.r(r),t.d(r,{default:function(){return u}});var a=function(){var s=this,r=s._self._c;return r("div",[s._m(0),r("div",{staticClass:"register"},[r("div",{staticClass:"input"},[r("p",{staticClass:"title"},[s._v("注册")]),r("span",{directives:[{name:"show",rawName:"v-show",value:s.accountError,expression:"accountError"}],staticClass:"errorInfo"},[s._v(s._s(s.accErrInfo))]),r("input",{directives:[{name:"model",rawName:"v-model",value:s.account,expression:"account"}],class:{accError:s.accountError},attrs:{type:"text",placeholder:"账号"},domProps:{value:s.account},on:{blur:function(r){return s.formCheckout("account")},input:function(r){r.target.composing||(s.account=r.target.value)}}}),r("input",{directives:[{name:"model",rawName:"v-model",value:s.nick,expression:"nick"}],attrs:{type:"text",placeholder:"昵称"},domProps:{value:s.nick},on:{input:function(r){r.target.composing||(s.nick=r.target.value)}}}),r("span",{directives:[{name:"show",rawName:"v-show",value:s.passwordLengthErr,expression:"passwordLengthErr"}],staticClass:"errorInfo"},[s._v(s._s(s.pwdErrInfo))]),r("input",{directives:[{name:"model",rawName:"v-model",value:s.password,expression:"password"}],attrs:{type:"password",placeholder:"密码"},domProps:{value:s.password},on:{blur:function(r){return s.formCheckout("password")},input:function(r){r.target.composing||(s.password=r.target.value)}}}),r("span",{directives:[{name:"show",rawName:"v-show",value:s.passwordError,expression:"passwordError"}],staticClass:"errorInfo"},[s._v(s._s(s.pwdErrInfo))]),r("input",{directives:[{name:"model",rawName:"v-model",value:s.password_again,expression:"password_again"}],class:{pwdError:s.passwordError},attrs:{type:"password",placeholder:"确认密码"},domProps:{value:s.password_again},on:{blur:function(r){return s.formCheckout("password_again")},input:function(r){r.target.composing||(s.password_again=r.target.value)}}}),r("button",{staticClass:"register",on:{click:s.register}},[s._v("注  册")]),r("p",{staticClass:"goregister"},[s._v(" 已有账号？"),r("span",{on:{click:s.goRegister}},[s._v("立即登录")])])])])])},o=[function(){var s=this,r=s._self._c;return r("div",{staticClass:"logo"},[r("img",{attrs:{src:t(6949),alt:"WallOfLove"}})])}],e=(t(7658),t(5101)),n={name:"Register",data(){return{agree:!1,accountError:!1,accErrInfo:"",passwordError:!1,passwordLengthErr:!1,pwdErrInfo:"",account:"",password:"",password_again:"",nick:""}},methods:{goRegister(){this.$router.push({name:"login"})},register(){this.accountError||this.passwordError||this.passwordLengthErr||0==this.account.length||0==this.password.length||0==this.password_again.length?this.$toast.fail({message:"表单数据错误"}):(0,e.z2)(this.account,this.password,this.nick).then((s=>{this.$toast.success({message:"注册成功"}),this.$router.replace({name:"login",query:{account:this.account,password:this.password,nick:this.nick||this.account}})}),(s=>{this.$toast.success({message:"注册失败[服务器错误]"})}))},formCheckout(s){"account"===s?(0==this.account.length&&(this.accountError=!1,this.accErrInfo=""),(0,e.aT)(this.account).then((s=>{if("have"===s)return this.accountError=!0,void(this.accErrInfo="账号已使用");"havent"===s&&this.account.length<=12&&(this.accountError=!1,this.accErrInfo=""),this.account.length<8||this.account.length>12?(this.accountError=!0,this.accErrInfo="账号长度必须在8-12位"):this.account.length>=8&&this.account.length<=12&&(this.accountError=!1,this.accErrInfo="")}))):"password_again"===s?this.password!=this.password_again?(this.passwordError=!0,this.pwdErrInfo="两次输入密码不一致"):this.password==this.password_again&&(this.passwordError=!1,this.pwdErrInfo=""):"password"===s&&(this.password.length<6||this.password.length>20?(this.passwordLengthErr=!0,this.pwdErrInfo="密码长度必须大于6位，小于20位"):(this.passwordLengthErr=!1,this.pwdErrInfo=""))}},components:{}},i=n,c=t(1001),p=(0,c.Z)(i,a,o,!1,null,"37ce21df",null),u=p.exports},6949:function(s,r,t){s.exports=t.p+"img/logo.46caca56.png"}}]);
//# sourceMappingURL=229.98927e8a.js.map